{"version":3,"sources":["images/viikkis.png","tools/actionTools.js","constants.js","actions/appActions.js","actions/configActions.js","actions/index.js","containers/Header.js","containers/Login.js","editor/helpers/insertText.js","editor/helpers/keydownListen.js","editor/helpers/highlight.js","editor/helpers/marked.js","tools/articleTools.js","editor/index.js","containers/Article.js","containers/NavBar.js","containers/Summary.js","containers/CreateWeek.js","containers/WeekList.js","containers/WeekContainer.js","components/LoadingComponent.js","containers/ScreenContainer.js","reducers/appReducer.js","reducers/configReducer.js","reducers/index.js","store.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","createActionPointers","types","arguments","length","undefined","list","map","type","NAME","PENDING","concat","FULFILLED","REJECTED","API_ENDPOINT","TITLES","fi","en","SCREENS","MD_CONFIG","MD_CONFIG_TOC","setState","payload","SET_STATE","getArticles","GET_ARTICLES","axios","get","getWeekArticles","_ref","year","week","GET_WEEK_ARTICLES","getArticle","id","GET_ARTICLE","getSummary","_ref2","GET_SUMMARY","deleteArticle","DELETE_ARTICLE","delete","updateArticle","_ref3","text","UPDATE_ARTICLE","put","JSON","stringify","createWeek","articles","CREATE_WEEK","all","_ref4","Object","asyncToGenerator","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","post","sent","abrupt","objectSpread","data","edited_at","created_at","Date","toISOString","stop","this","_x","apply","login","_ref5","email","password","LOGIN","_payload","_callee2","_context2","Error","logout","LOGOUT","setConfigState","SET_CONFIG_STATE","navigate","screen","NAVIGATE","navigateHome","dispatch","NAVIGATE_HOME","setNextWeek","getState","newDate","moment","config","now","add","parseInt","format","setPrevWeek","subtract","Connect","connect","state","props","bindActionCreators","appActions","configActions","dropdownOpen","localStorage","removeItem","_this2","react_default","createElement","style","styles","top","left","src","headerImage","alt","height","app","logged","right","ButtonDropdown","isOpen","toggle","direction","DropdownToggle","className","fontSize","color","DropdownMenu","DropdownItem","header","user","divider","disabled","marginRight","sockets","onClick","Component","backgroundColor","width","display","flexDirection","flex","justifyContent","alignItems","cursor","users","position","paddingRight","rememberMe","then","setItem","catch","toast","error","_this3","wrapper","Container","container","Form","Col","FormGroup","Label","Input","name","placeholder","value","onChange","e","target","for","check","Button","boxShadow","borderRadius","padding","margin","bottom","insert","$vm","prefix","hint","subfix","selectionStart","start","end","selectionEnd","restoreTop","scrollTop","substring","focus","toolbar","h1","h2","h3","bold","italic","image","link","linkButton","code","listUl","listOl","table","tab","insertText","KEY_CODE","Hljs","require","registerLanguage","marked","setOptions","renderer","Renderer","gfm","tables","breaks","pedantic","sanitize","smartLists","smartypants","highlight","highlightAuto","paragraph","href","title","formatTitle","convertMarkdownToHtml","topValue","bottomValue","content","replacementArray","results","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","slicedToArray","regex","replacement","replace","err","return","massReplace","MdEditor","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleChange","saveHistory","assertThisInitialized","currentTarget","getAttribute","textInsert","undo","f_history","f_history_index","handleLineIndex","redo","preview","expand","save","onSave","handleEditorRef","window","innerWidth","line_index","updateWindowDimensions","bind","ins","addEventListener","ctrlKey","metaKey","altKey","shiftKey","keyCode","preventDefault","push","removeEventListener","innerHeight","_this$state","clearTimeout","currentTimeout","setTimeout","splice","shift","split","_this$state2","previewClass","classNames","for-panel","for-preview-hidden","editorClass","for-editor-hidden","isMobile","previewActive","for-active","fullscreen","for-container","for-fullscreen","expandActive","lineNumStyles","for-line-num","hidden","lineNum","data-type","i","key","ref","spellCheck","autoCapitalize","autoCorrect","dangerouslySetInnerHTML","__html","React","defaultProps","Main","disconnected","reconnect","socket","emit","getText","onDisconnect","articleId","autoSave","previousValue","action","interval","setInterval","isEdited","handleSave","clearInterval","success","rooms","_this4","Beforeunload_default","onBeforeunload","socketsOnline","Alert","src_editor","_this$props$config","article","find","title_en","Breadcrumb","BreadcrumbItem","active","Summary","toc","showModal","html","element","document","file","Blob","URL","createObjectURL","download","click","summary","tableOfContents","_1","_2","_3","trim","filter","reduce","acc","str","createMarkdownTOC","SUMMARY_TOP","Fragment","index_es","open","onClose","toggleModal","center","minHeight","block","exportFile","exportHtml","titles","t","alert","text_en","obj","ind","toConsumableArray","box","button","deleteHeading","row","index","sm","required","size","border","zIndex","confirm","sort","b","containers_CreateWeek","ListGroup","flush","ListGroupItem","Badge","editedAt","templates","suffix","seconds","minute","minutes","hour","hours","day","days","month","months","years","time","template","n","Math","abs","round","getTime","lastEdited","outline","float","failed","loaded","init","startOfWeek","startOf","endOfWeek","endOf","containers_WeekList","LoadingComponent","loader","react_loader_spinner_default","MainContainer","navigation","containers_Header","NavBar","marginBottom","AuthContainer","containers_Login","ScreenContainer","on","cb","getItem","console","log","containers_Summary","Article","containers_WeekContainer","lib","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnVisibilityChange","draggable","pauseOnHover","loading","LoadingComponent_LoadingComponent","ScreenContainer_MainContainer","ScreenContainer_AuthContainer","initialState","appReducer","configReducer","socketReducer","io","rootReducer","combineReducers","loggerMiddleWare","createLogger","predicate","middleWares","applyMiddleware","promise","thunk","createStore","reducers","Boolean","location","hostname","match","ReactDOM","render","es","store","containers_ScreenContainer","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e66abcbf.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/viikkis.86ac6c38.png\";","export const createActionPointers = (types = []) => {\r\n\tlet list = {};\r\n\ttypes.map(type => {\r\n\t\treturn list[type] = {\r\n\t\t\tNAME: type,\r\n\t\t\tPENDING: `${type}_PENDING`,\r\n\t\t\tFULFILLED: `${type}_FULFILLED`,\r\n\t\t\tREJECTED: `${type}_REJECTED`,\r\n\t\t}\r\n\t});\r\n\treturn list;\r\n};","export const API_ENDPOINT = 'http://viikkis.indecs.fi/api.php';\r\nexport const SOCKET_ENDPOINT = 'http://viikkis.herokuapp.com';\r\n\r\n\r\nexport const TITLES = [\r\n    {\r\n        fi: 'Yleistä',\r\n        en: 'General'\r\n    },\r\n    {\r\n        fi: 'Indecsin tapahtumat',\r\n        en: \"Indecs events\"\r\n    },\r\n    {\r\n        fi: \"TREY tiedottaa\",\r\n        en: \"Student Union announces\"\r\n    },\r\n    {\r\n        fi: \"Tampereen Teekkarit tiedottaa\",\r\n        en: \"Teekkari Union of Tampere announces\"\r\n    },\r\n    {\r\n        fi: \"Yritystiimi tiedottaa\",\r\n        en: \"Corporate Relations Team announces\"\r\n    },\r\n    {\r\n        fi: \"Tulevat tapahtumat\",\r\n        en: \"Upcoming events\"\r\n    },\r\n    {\r\n        fi: \"ESTIEM asiaa\",\r\n        en: \"ESTIEM affairs\"\r\n    },\r\n    {\r\n        fi: \"Loppukevennys\",\r\n        en: \"\"\r\n    }\r\n];\r\n\r\nexport const SCREENS = {\r\n    SUMMARY:'SUMMARY',\r\n    ARTICLE:'ARTICLE',\r\n}\r\n\r\nexport const MD_CONFIG = `\r\notsikon_ylle: Tuotantotalouden kilta Indecs\r\notsikon_alle: Viikko 1\r\nsposti_aihe: Indecsin Viikkotiedote 1 — Indecs' Newsletter 1\r\nurl: http://www.google.fi\r\nnimi: Leevi Törnblom\r\ntitteli: Sihteeri / Secretary\r\nkilta: Tuotantotalouden kilta Indecs Ry\r\nguild: Guild of Industrial Engineering and Management Indecs\r\nyliopisto: Tampereen teknillinen yliopisto\r\nuniversity: Tampere University of Technology\r\npuhelin: 0408431989\r\nsposti: sihteeri@indecs.fi\r\ninternet: www.indecs.fi\r\n\r\n`;\r\n\r\nexport const MD_CONFIG_TOC = `\r\n\r\n# Sisällysluettelo - Table of Contents\r\n\r\n[TOC]\r\n\r\n`;\r\n\r\nexport const SUMMARY_TOP = (week, tableOfContents) => `\r\n<font class=\"margin\"></font>\r\n<font class=\"top-kilta\">Tuotantotalouden kilta Indecs</font>\r\n<font class=\"top-viikkotiedote\">Viikkotiedote</font>\r\n<font class=\"top-numero\">Numero ${week - 1} - Viikko ${week}</font>\r\n<font class=\"margin\"></font>\r\n<font class=\"top-toc\"> Sisällysluettelo - Table of contents</font>\r\n${tableOfContents}\r\n`;\r\n\r\nexport const SUMMARY_BOTTOM = `\r\n<font class=\"margin\"></font>\r\n<font class=\"top-kilta\">Terveisin - Regards</font>\r\n<font class=\"top-viikkotiedote\">Leevi Törnblom</font>\r\n<font class=\"top-numero\">Sihteeri / Secretary</font>\r\n<font class=\"bottom-default\">Tuotantotalouden kilta Indecs ry</font>\r\n<font class=\"bottom-default\">Guild of Industrial Engineering and Management Indecs</font>\r\n<font class=\"bottom-default\">Tampereen yliopisto</font>\r\n<font class=\"bottom-default\">Tampere University</font>\r\n<font class=\"bottom-default\">0408431989</font>\r\n<font class=\"bottom-default\">sihteeri@indecs.fi</font>\r\n<font class=\"bottom-default\">[www.indecs.fi]www.indecs.fi</font>\r\n<font class=\"margin\"></font>\r\n`;","import {createActionPointers} from '../tools/actionTools';\r\nimport {API_ENDPOINT} from '../constants';\r\nimport axios from 'axios'\r\nexport const types = createActionPointers([\r\n    `SET_STATE`,\r\n    'GET_ARTICLES',\r\n    'UPDATE_ARTICLE',\r\n    'CREATE_WEEK',\r\n    'GET_ARTICLE',\r\n    'DELETE_ARTICLE',\r\n    'GET_SUMMARY',\r\n    'LOGIN',\r\n    'LOGOUT',\r\n    'GET_TEXT',\r\n    'GET_WEEK_ARTICLES'\r\n]);\r\n\r\nexport const setState = (payload) => ({\r\n    type:types.SET_STATE.NAME,\r\n    payload\r\n});\r\n\r\nexport const getArticles = () => ({\r\n    type:types.GET_ARTICLES.NAME,\r\n    payload:axios.get(`${API_ENDPOINT}/articles`)\r\n});\r\n\r\nexport const getWeekArticles = ({year, week}) => ({\r\n    type:types.GET_WEEK_ARTICLES.NAME,\r\n    payload:axios.get(`${API_ENDPOINT}/articles?year=${year}&week=${week}`)\r\n});\r\n\r\nexport const getArticle = (id) => ({\r\n    type:types.GET_ARTICLE.NAME,\r\n    payload:axios.get(`${API_ENDPOINT}/articles/${id}`)\r\n});\r\n\r\nexport const getSummary = ({year, week}) => ({\r\n    type:types.GET_SUMMARY.NAME,\r\n    payload:axios.get(`${API_ENDPOINT}/articles?year=${year}&week=${week}`)\r\n});\r\n\r\nexport const deleteArticle = (id) => ({\r\n    type:types.DELETE_ARTICLE.NAME,\r\n    payload:axios.delete(`${API_ENDPOINT}/articles/${id}`)\r\n});\r\n\r\nexport const updateArticle = ({id, text}) => ({\r\n    type:types.UPDATE_ARTICLE.NAME,\r\n    payload:axios.put(`${API_ENDPOINT}/articles/${id}`, JSON.stringify({text}))\r\n});\r\n\r\nexport const createWeek = (articles) => ({\r\n    type:types.CREATE_WEEK.NAME,\r\n    payload:axios.all(articles.map(async a => {\r\n        const res = await axios.post(`${API_ENDPOINT}/articles`, JSON.stringify(a));\r\n        return {...a, id:res.data, edited_at:'0000-00-00 00:00:00', created_at:new Date().toISOString()};\r\n    }))\r\n});\r\n\r\nexport const login = ({email, password}) => ({\r\n    type:types.LOGIN.NAME,\r\n    // payload:axios.post(`https://indecs.fi/viikkis/login.php`, JSON.stringify({email, password})),\r\n    payload:async () => {\r\n        if(email === 'hallitus@indecs.fi' && password === 'L3d1v4l0'){\r\n            return {email, password}\r\n        }else {\r\n            throw new Error('wrong password');\r\n        }\r\n    }\r\n})\r\n\r\nexport const logout = () => ({\r\n    type:types.LOGOUT.NAME\r\n});\r\n","import moment from 'moment';\r\nimport { createActionPointers } from '../tools/actionTools';\r\nimport { getWeekArticles } from './appActions';\r\n\r\nexport const types = createActionPointers([\r\n    `SET_CONFIG_STATE`,\r\n    'NAVIGATE',\r\n    'NAVIGATE_HOME'\r\n]);\r\n\r\nexport const setConfigState = (payload) => ({\r\n    type: types.SET_CONFIG_STATE.NAME,\r\n    payload\r\n});\r\n\r\nexport const navigate = (screen) => ({\r\n    type:types.NAVIGATE.NAME,\r\n    payload:screen\r\n});\r\n\r\nexport const navigateHome = () => dispatch => {\r\n    // Not in use\r\n    dispatch({type:types.NAVIGATE_HOME.NAME});\r\n    \r\n};\r\n\r\nexport const setNextWeek = () => (dispatch, getState) => {\r\n    const newDate = moment(getState().config.now).add(1, 'weeks');\r\n    const week = parseInt(newDate.format('WW'));\r\n    const year = parseInt(newDate.format('YYYY'));\r\n    dispatch(setConfigState({\r\n        now:newDate,\r\n        week,\r\n        year\r\n    }));\r\n    return dispatch(getWeekArticles({week, year}));\r\n}\r\n\r\n\r\nexport const setPrevWeek = () => (dispatch, getState) => {\r\n    const newDate = moment(getState().config.now).subtract(1, 'weeks');\r\n    const week = parseInt(newDate.format('WW'));\r\n    const year = parseInt(newDate.format('YYYY'));\r\n    dispatch(setConfigState({\r\n        now:newDate,\r\n        week,\r\n        year\r\n    }));\r\n    return dispatch(getWeekArticles({week, year}));\r\n}","import * as appActions from './appActions';\r\nimport * as configActions from './configActions';\r\nimport {bindActionCreators} from 'redux';\r\nimport { connect } from 'react-redux';\r\n\r\nexport const mdp = (dispatch) => (bindActionCreators({\r\n  ...appActions,\r\n  ...configActions\r\n}, dispatch));\r\n\r\nexport const msp = (state, props) => state\r\n\r\nexport const Connect = connect(msp, mdp);","import React, { Component } from 'react';\r\nimport { Connect } from '../actions';\r\nimport headerImage from '../images/viikkis.png';\r\nimport { ButtonDropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\r\nclass Header extends Component {\r\n    state = {\r\n        dropdownOpen:false\r\n    }\r\n    logout(){\r\n        localStorage.removeItem('email');\r\n        localStorage.removeItem('password');\r\n        this.props.logout();\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n\r\n                <div style={styles.top}>\r\n                    <div style={styles.left}>\r\n                        <img src={headerImage} alt=\"Viikkis Indecs\" style={{ height: 60 }} />\r\n                    </div>\r\n                    {this.props.app.logged && <div style={styles.right}>\r\n                    <ButtonDropdown isOpen={this.state.dropdownOpen} toggle={() => this.setState({dropdownOpen:!this.state.dropdownOpen})} direction={'left'}>\r\n                        <DropdownToggle>\r\n                        <i className=\"fa fa-bars\" style={{ fontSize: 30, color: 'white' }}></i>\r\n                        </DropdownToggle>\r\n                        <DropdownMenu>\r\n                        <DropdownItem header>{this.props.app.user.email}</DropdownItem>\r\n                        <DropdownItem divider />\r\n                        <DropdownItem disabled><i className=\"fa fa-users\" style={{marginRight:5}}></i> {this.props.app.sockets.length} paikalla</DropdownItem>\r\n                        <DropdownItem divider />\r\n                        <DropdownItem disabled><i className=\"fa fa-cog\" style={{marginRight:5}}></i> Asetukset</DropdownItem>\r\n                        <DropdownItem divider />\r\n                        <DropdownItem onClick={() => this.logout()}><i className=\"fa fa-sign-out-alt\" style={{marginRight:5}}></i>Kirjaudu ulos</DropdownItem>\r\n                        </DropdownMenu>\r\n                    </ButtonDropdown>\r\n                    </div>}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Connect(Header)\r\n\r\nconst styles = {\r\n    top: {\r\n        backgroundColor: 'rgba(0,0,0,0.5)',\r\n        height: 60,\r\n        width: '100%',\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        flex: 1,\r\n        color: 'white',\r\n        justifyContent:'space-between'\r\n    },\r\n    left: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        cursor:'pointer'\r\n    },\r\n    users: {\r\n        position:'absolute',\r\n        top:5,\r\n        right:5,\r\n        fontSize: 15, \r\n        color: 'white'\r\n    },\r\n    right: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'flex-end',\r\n        paddingRight: 10,\r\n        cursor: 'pointer'\r\n    },\r\n}","import React, { Component } from 'react';\r\nimport {\r\n    Container, Col, Form,\r\n    FormGroup, Label, Input,\r\n    Button,\r\n} from 'reactstrap';\r\nimport { Connect } from '../actions';\r\nimport { toast } from 'react-toastify';\r\n// import './App.css';\r\n\r\nclass Login extends Component {\r\n    state = {\r\n        email: '',\r\n        password: '',\r\n        rememberMe: false\r\n    }\r\n\r\n    login() {\r\n        this.props.login({ password: this.state.password, email: this.state.email })\r\n            .then(() => {\r\n                if(this.state.rememberMe){\r\n                    localStorage.setItem('email', this.state.email);\r\n                    localStorage.setItem('password', this.state.password);\r\n                }\r\n            })\r\n            .catch(() => toast.error('Väärä käyttäjätunnus tai salasana'))\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={styles.wrapper}>\r\n                <Container style={styles.container}>\r\n                    <h2>Kirjaudu sisään</h2>\r\n                    <Form className=\"form\">\r\n                        <Col>\r\n                            <FormGroup>\r\n                                <Label>Sähköposti</Label>\r\n                                <Input\r\n                                    type=\"email\"\r\n                                    name=\"email\"\r\n                                    id=\"exampleEmail\"\r\n                                    placeholder=\"sposti@sposti.com\"\r\n                                    value={this.state.email}\r\n                                    onChange={e => this.setState({ email: e.target.value })}\r\n                                />\r\n                            </FormGroup>\r\n                        </Col>\r\n                        <Col>\r\n                            <FormGroup>\r\n                                <Label for=\"examplePassword\">Salasana</Label>\r\n                                <Input\r\n                                    type=\"password\"\r\n                                    name=\"password\"\r\n                                    id=\"examplePassword\"\r\n                                    placeholder=\"********\"\r\n                                    onChange={e => this.setState({ password: e.target.value })}\r\n                                    value={this.state.password}\r\n                                />\r\n                            </FormGroup>\r\n                        </Col>\r\n                        <Col>\r\n                            <FormGroup check>\r\n                                <Label check>\r\n                                <Input\r\n                                    id=\"rememberMe\"\r\n                                    type=\"checkbox\"\r\n                                    value={this.state.rememberMe}\r\n                                    onChange={e => this.setState({ rememberMe: e.target.value })}\r\n                                />{' '} Muista minut\r\n                                </Label>\r\n                            </FormGroup>\r\n                        </Col>\r\n                        <Button onClick={() => this.login()}>Kirjaudu sisään</Button>\r\n                    </Form>\r\n                </Container>\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nexport default Connect(Login);\r\n\r\nconst styles = {\r\n    container: {\r\n        boxShadow: '#999 0 0 12px',\r\n        borderRadius: '4px',\r\n        backgroundColor: 'white',\r\n        padding: 20,\r\n        margin: 10\r\n    },\r\n    wrapper: {\r\n        flex: 1,\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        bottom: 0,\r\n        right: 0\r\n    }\r\n}","function insert($vm, prefix, hint = '', subfix = '') {\n    const value = $vm.value\n    if ($vm.selectionStart || $vm.selectionStart === 0) {\n        let start = $vm.selectionStart\n        let end = $vm.selectionEnd\n\n        const restoreTop = $vm.scrollTop\n\n        if (start === end) {\n            $vm.value =\n                value.substring(0, start) +\n                prefix +\n                hint +\n                subfix +\n                value.substring(end, value.length)\n            $vm.selectionStart = start + prefix.length\n            $vm.selectionEnd = end + prefix.length + hint.length\n        } else {\n            $vm.value =\n                value.substring(0, start) +\n                prefix +\n                value.substring(start, end) +\n                subfix +\n                value.substring(end, value.length)\n            $vm.selectionStart = start + prefix.length\n            $vm.selectionEnd = end + prefix.length\n        }\n\n        $vm.focus()\n        if (restoreTop >= 0) {\n            $vm.scrollTop = restoreTop\n        }\n    }\n}\n\nconst toolbar = {\n    h1($vm) {\n        insert($vm, '# ', 'Iso otsikko')\n    },\n    h2($vm) {\n        insert($vm, '## ', 'Keskikokoinen otsikko')\n    },\n    h3($vm) {\n        insert($vm, '### ', 'Pieni otsikko')\n    },\n    bold($vm) {\n        insert($vm, '**', 'Lihavoitu teksti', '**')\n    },\n    italic($vm) {\n        insert($vm, '*', 'Kursivoitu teksti', '*')\n    },\n    image($vm) {\n        insert($vm, '![Kuvan vaihtoehtoinen teksti jos kuva ei toimi](', 'https://indecs.fi/indecs-fi/wp-content/uploads/2019/01/Indecs_logo_teksti.png', ')')\n    },\n    link($vm) {\n        insert($vm, '[FB-tapahtuma](', 'http://www.facebook.com', ')')\n    },\n    linkButton($vm) {\n        insert($vm, '?[FB-tapahtuma](', 'http://www.facebook.com', ')')\n    },\n    code($vm) {\n        insert($vm, '```\\n', 'Lainaus', '\\n```')\n    },\n    list($vm) {\n        insert($vm, 'Lista 1  \\nLista 2  \\n', 'Lista 3', '  ')\n    },\n    listUl($vm) {\n        insert($vm, '- Lista 1\\n- Lista 2\\n- ', 'Lista 3')\n    },\n    listOl($vm) {\n        insert($vm, '1. Lista 1\\n2. Lista 2\\n', '3. Lista 3')\n    },\n    table($vm) {\n        insert($vm, '| Otsikko 1 | Otsikko 2 | Otsikko 3 |\\n | - | - | - | \\n| ', 'tähän', ' | tulee | sisältö |\\n| toisen | rivin | sisältö |')\n    },\n    tab($vm) {\n        insert($vm, '  ')\n    }\n}\n\nexport default ($vm, type) => {\n    return toolbar[type]($vm)\n}\n","const KEY_CODE = {\n  F8: 119,\n  F9: 120,\n  F10: 121,\n  F11: 122,\n  F12: 123,\n  B: 66,\n  I: 73,\n  H: 72,\n  U: 85,\n  D: 68,\n  M: 77,\n  Q: 81,\n  O: 79,\n  L: 76,\n  S: 83,\n  Z: 90,\n  Y: 89,\n  C: 67,\n  T: 84,\n  R: 82,\n  DELETE: 8,\n  TAB: 9,\n  ENTER: 13,\n  ONE: 97,\n  TWO: 98,\n  THREE: 99,\n  FOUR: 100,\n  FIVE: 101,\n  SIX: 102,\n  _ONE: 49,\n  _TWO: 50,\n  _THREE: 51,\n  _FOUR: 52,\n  _FIVE: 53,\n  _SIX: 54\n}\n\nexport default ins => {\n  const $vm = ins.$vm\n  $vm.addEventListener('keydown', e => {\n    if (!(e.ctrlKey || e.metaKey) && !e.altKey && !e.shiftKey) {\n      switch (e.keyCode) {\n        case KEY_CODE.TAB: {\n          e.preventDefault()\n          ins.insert('tab')\n          break\n        }\n        default:break;\n      }\n    } else if ((e.ctrlKey || e.metaKey) && !e.altKey && !e.shiftKey) {\n      // ctrl +\n      switch (e.keyCode) {\n        case KEY_CODE.Z: {\n          // Z\n          e.preventDefault()\n          ins.undo()\n          break\n        }\n        case KEY_CODE.Y: {\n          // Y\n          e.preventDefault()\n          ins.redo()\n          break\n        }\n        case KEY_CODE.S: {\n          // S\n          e.preventDefault()\n          ins.save()\n          break\n        }\n        case KEY_CODE.B: {\n            e.preventDefault()\n            ins.insert('bold');\n            break;\n        }\n        case KEY_CODE.I: {\n            e.preventDefault()\n            ins.insert('italic');\n            break;\n        }\n        default:break;\n      }\n    }\n  })\n}\n","const Hljs = require('highlight.js/lib/highlight')\n\nHljs.registerLanguage('css', require('highlight.js/lib/languages/css'))\nHljs.registerLanguage('json', require('highlight.js/lib/languages/json'))\nHljs.registerLanguage('less', require('highlight.js/lib/languages/less'))\nHljs.registerLanguage('scss', require('highlight.js/lib/languages/scss'))\nHljs.registerLanguage(\n  'javascript',\n  require('highlight.js/lib/languages/javascript')\n)\nHljs.registerLanguage(\n  'typescript',\n  require('highlight.js/lib/languages/typescript')\n)\n\nexport default Hljs\n","import marked from 'marked'\nimport Hljs from './highlight'\n\nmarked.setOptions({\n  renderer: new marked.Renderer(),\n  gfm: true,\n  tables: true,\n  breaks: false,\n  pedantic: false,\n  sanitize: false,\n  smartLists: true,\n  smartypants: false,\n  highlight(code) {\n    return Hljs.highlightAuto(code).value\n  }\n})\n\nconst renderer = new marked.Renderer()\n\n// 段落解析\nconst paragraphParse = text => `<p>${text}</p>`\n\n// 链接解析\nconst linkParse = (href, title, text) => {\n  return `<a href=${href}\n      title=${title || href}\n      target='_blank'\n      }>${text}</a>`\n}\n\nrenderer.paragraph = paragraphParse\nrenderer.link = linkParse\n\nexport default content => {\n  if (typeof content != 'string') return ''\n\n  return marked(content, { renderer })\n}\n\n","import marked from '../editor/helpers/marked'\r\n\r\nexport const formatTitle = (fi, en) => {\r\n    return en ? `${fi} - ${en}` :  `${fi}`\r\n}\r\n\r\nexport const lastEdited = (editedAt) => {\r\n    let templates = {\r\n        prefix: \"\",\r\n        suffix: \" sitten\",\r\n        seconds: \"alle minuutti\",\r\n        minute: \"noin minuutti\",\r\n        minutes: \"%d minuuttia\",\r\n        hour: \"noin tunti\",\r\n        hours: \"noin %d tuntia\",\r\n        day: \"päivä\",\r\n        days: \"%d päivää\",\r\n        month: \"noin kuukausi\",\r\n        months: \"%d kuukautta\",\r\n        year: \"noin vuosi\",\r\n        years: \"%d vuotta\"\r\n    };\r\n\r\n    let time = editedAt;\r\n\r\n    let template = function(t, n) {\r\n        return templates[t] && templates[t].replace(/%d/i, Math.abs(Math.round(n)));\r\n    };\r\n\r\n        if (time === '0000-00-00 00:00:00') return 'Ei muokattu';\r\n        time = time.replace(/\\.\\d+/, \"\"); // remove milliseconds\r\n        time = time.replace(/-/, \"/\").replace(/-/, \"/\");\r\n        time = time.replace(/T/, \" \").replace(/Z/, \" UTC\");\r\n        time = time.replace(/([\\+\\-]\\d\\d)\\:?(\\d\\d)/, \" $1$2\"); // -04:00 -> -0400\r\n        time = new Date(time * 1000 || time);\r\n\r\n        let now = new Date();\r\n        let seconds = ((now.getTime() - time) * .001) >> 0;\r\n        let minutes = seconds / 60;\r\n        let hours = minutes / 60;\r\n        let days = hours / 24;\r\n        let years = days / 365;\r\n\r\n        return 'muokattu ' + templates.prefix + (\r\n            (seconds < 45 && template('seconds', seconds)) ||\r\n            (seconds < 90 && template('minute', 1)) ||\r\n            (minutes < 45 && template('minutes', minutes)) ||\r\n            (minutes < 90 && template('hour', 1)) ||\r\n            (hours < 24 && template('hours', hours)) ||\r\n            (hours < 42 && template('day', 1)) ||\r\n            (days < 30 && template('days', days)) ||\r\n            (days < 45 && template('month', 1)) ||\r\n            (days < 365 && template('months', days / 30)) ||\r\n            (years < 1.5 && template('year', 1)) ||\r\n            template('years', years)\r\n        ) + templates.suffix;\r\n}\r\n\r\n\r\nconst massReplace = (text, replacementArray) => {\r\n    let results = text;\r\n    for (let [regex, replacement] of replacementArray) {\r\n      results = results.replace(regex, replacement);\r\n    }\r\n    return results;\r\n  }\r\n\r\nexport const convertMarkdownToHtml = (value, topValue, bottomValue) => {\r\n    return marked(\r\n        topValue + massReplace(value,\r\n            [[/^###(.*)/gm, '<h3>$1</h3>'],\r\n            [/^##(.*)/gm, '<h2>$1</h2>'],\r\n            [/^#(.*)/gm, '<h1>$1</h1>'],\r\n            [/\\?\\[(.+?)\\]\\((.*\\))/g, '<button class=\"customButton\" href=\"$2\">$1</button>']]\r\n        ) + bottomValue\r\n    )\r\n}\r\n\r\nexport const createMarkdownTOC = (value) => {\r\n    let _1 = 0;\r\n    let _2 = 0;\r\n    let _3 = 0;\r\n    return value\r\n        .replace('\\n\\n', '\\n')\r\n        .split('\\n')\r\n        .map(i => i.trim())\r\n        .filter(i => i.length > 0)\r\n        .reduce((acc, str) => {\r\n\r\n            if (str.substring(0, 3) === \"###\") {\r\n                _3 = _3 + 1;\r\n                return acc + `    - [${_1}.${_2}.${_3}. ${str.replace('###', '')}](javascript:void(0);)\\n`\r\n            }\r\n\r\n            else if (str.substring(0, 2) === \"##\") {\r\n                _3 = 0;\r\n                _2 = _2 + 1;\r\n                return acc + `  - [${_1}.${_2}. ${str.replace('##', '')}](javascript:void(0);)\\n`\r\n\r\n            }\r\n\r\n            else if (str.substring(0, 1) === \"#\") {\r\n                _3 = 0;\r\n                _2 = 0;\r\n                _1 = _1 + 1;\r\n                return acc + `- [${_1}. ${str.replace('#', '')}](javascript:void(0);)\\n`\r\n            }\r\n            else return acc\r\n        }, [])\r\n}","import React from 'react'\nimport './index.css'\nimport classNames from 'classnames'\nimport textInsert from './helpers/insertText'\nimport keydownListen from './helpers/keydownListen'\nimport 'highlight.js/styles/tomorrow.css'\nimport './fonts/iconfont.css'\nimport { convertMarkdownToHtml } from '../tools/articleTools';\n\nclass MdEditor extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.$vm = null\n        this.handleEditorRef = $vm => {\n            this.$vm = $vm;\n        }\n\n        this.state = {\n            preview: window.innerWidth < 700 ? false : true,\n            expand: false,\n            f_history: [],\n            f_history_index: 0,\n            line_index: 1,\n            height:600,\n            width:1000\n        }\n        this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\n    }\n\n    static defaultProps = {\n        placeholder: '',\n        lineNum: true,\n        topValue:'',\n        bottomValue:''\n    }\n\n    componentDidMount() {\n        keydownListen(this);\n        this.updateWindowDimensions();\n        window.addEventListener('resize', this.updateWindowDimensions);\n    }\n\n    componentWillUpdate(props, state) {\n        const { f_history } = this.state\n        if (props.value && state.f_history.length === 0) {\n            f_history.push(props.value)\n            this.setState({\n                f_history\n            })\n            this.handleLineIndex(props.value)\n        }\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.updateWindowDimensions);\n    }\n\n    updateWindowDimensions() {\n        this.setState({ width: window.innerWidth, height: window.innerHeight });\n    }\n\n    handleChange = e => {\n        const value = e.target.value\n        this.saveHistory(value)\n        this.props.onChange(value)\n    }\n\n    insert = e => {\n        const { $vm } = this\n        const type = e.currentTarget ? e.currentTarget.getAttribute('data-type') : e\n        textInsert($vm, type)\n        this.props.onChange($vm.value)\n        this.saveHistory($vm.value)\n    }\n\n    saveHistory(value) {\n        let { f_history, f_history_index } = this.state\n        window.clearTimeout(this.currentTimeout)\n        this.currentTimeout = setTimeout(() => {\n\n            if (f_history_index < f_history.length - 1) {\n                f_history.splice(f_history_index + 1)\n            }\n\n            if (f_history.length >= 20) {\n                f_history.shift()\n            }\n\n            f_history_index = f_history.length\n            f_history.push(value)\n            this.setState({\n                f_history,\n                f_history_index\n            })\n        }, 500)\n\n        this.handleLineIndex(value)\n    }\n\n    handleLineIndex(value) {\n        const line_index = value ? value.split('\\n').length : 1\n        this.setState({\n            line_index: line_index\n        })\n    }\n\n    undo = () => {\n        const { f_history } = this.state\n        let { f_history_index } = this.state\n        f_history_index = f_history_index - 1\n        if (f_history_index < 0) return\n        this.setState({\n            f_history_index\n        })\n        const value = f_history[f_history_index]\n        this.props.onChange(value)\n        this.handleLineIndex(value)\n    }\n\n    redo = () => {\n        const { f_history } = this.state\n        let { f_history_index } = this.state\n        f_history_index = f_history_index + 1\n        if (f_history_index >= f_history.length) return\n        this.setState({\n            f_history_index\n        })\n        const value = f_history[f_history_index]\n        this.props.onChange(value)\n        this.handleLineIndex(value)\n    }\n\n    preview = () => {\n        this.setState({\n            preview: !this.state.preview\n        })\n    }\n\n    expand = () => {\n        this.setState({\n            expand: !this.state.expand\n        })\n    }\n\n    save = () => {\n        this.props.onSave()\n    }\n\n    isMobile() {\n        return this.state.width < 700;\n    }\n\n    render() {\n        const { preview, expand, line_index } = this.state\n        const { value } = this.props\n        const previewClass = classNames({\n            'for-panel': true,\n            'for-preview-hidden': !preview,\n            \n        })\n        const editorClass = classNames({\n            'for-panel': true,\n            'for-editor-hidden':this.isMobile() ? preview : false\n        })\n        const previewActive = classNames({\n            'for-active': preview\n        })\n        const fullscreen = classNames({\n            'for-container': true,\n            'for-fullscreen': expand\n        })\n        const expandActive = classNames({\n            'for-active': expand\n        })\n        const lineNumStyles = classNames({\n            'for-line-num': true,\n            hidden: !this.props.lineNum\n        })\n\n        const lineNum = function () {\n            const list = []\n            for (let i = 0; i < line_index; i++) {\n                list.push(<li key={i + 1}>{i + 1}</li>)\n            }\n            return <ul className={lineNumStyles}>{list}</ul>\n        }\n\n\n        return (\n            <div className={fullscreen} style={{ height: this.state.expand ? this.state.height : this.state.height-100 }}>\n                <div className=\"for-controlbar\" style={{display:this.isMobile() ? 'block' : 'flex'}}>\n                    <ul>\n                        <li data-type=\"h1\" onClick={this.insert} title=\"Iso otsikko\">\n                            H1\n                        </li>\n                        <li data-type=\"h2\" onClick={this.insert} title=\"Keskikokoinen otsikko\">\n                            H2\n                        </li>\n                        <li data-type=\"h3\" onClick={this.insert} title=\"Pieni otsikko\">\n                            H3\n                        </li>\n                        <li data-type=\"bold\" onClick={this.insert} title=\"Lihavoitu teksti (ctrl+b)\">\n                            <i className=\"fa fa-bold\" />\n                        </li>\n                        <li data-type=\"italic\" onClick={this.insert} title=\"Kursivoitu teksti (ctrl+i)\">\n                            <i className=\"fa fa-italic\" />\n                        </li>\n                        <li data-type=\"image\" onClick={this.insert} title=\"Kuva\">\n                            <i className=\"foricon for-image\" />\n                        </li>\n                        <li data-type=\"link\" onClick={this.insert} title=\"Linkki\">\n                            <i className=\"foricon for-link\" />\n                        </li>\n                        <li data-type=\"linkButton\" onClick={this.insert} title=\"Linkki painike\">\n                            <i className=\"fab fa-facebook-square\" />\n                        </li>\n                        <li data-type=\"table\" onClick={this.insert} title=\"Taulukko\">\n                            <i className=\"fa fa-table\" />\n                        </li>\n                    </ul>\n                    <ul>\n                        <li data-type=\"list\" onClick={this.insert} title=\"Lista\">\n                            <i className=\"fa fa-list\" />\n                        </li>\n                        <li data-type=\"listUl\" onClick={this.insert} title=\"Täplä lista\">\n                            <i className=\"fa fa-list-ul\" />\n                        </li>\n                        <li data-type=\"listOl\" onClick={this.insert} title=\"Numeroitu lista\">\n                            <i className=\"fa fa-list-ol\" />\n                        </li>\n                        <li data-type=\"code\" onClick={this.save} title=\"Tallenna (ctrl+s)\">\n                            <i className=\"foricon for-save\" />\n                        </li>\n                        <li className={expandActive} onClick={this.expand}>\n                            {expandActive ? (\n                                <i className=\"foricon for-contract\" />\n                            ) : (\n                                    <i className=\"foricon for-expand\" />\n                                )}\n                        </li>\n                        <li className={previewActive} onClick={this.preview}>\n                            {previewActive ? (\n                                <i className=\"foricon for-eye-off\" />\n                            ) : (\n                                    <i className=\"foricon for-eye\" />\n                                )}\n                        </li>\n                        <li onClick={this.undo} title=\"Taaksepäin (ctrl+z)\">\n                            <i className=\"foricon for-undo\" />\n                        </li>\n                        <li onClick={this.redo} title=\"Eteenpäin (ctrl+y)\">\n                            <i className=\"foricon for-redo\" />\n                        </li>\n                    </ul>\n                </div>\n                <div className=\"for-editor\">\n                    <div className={editorClass}>\n                        <div className=\"for-editor-wrapper\">\n                            {/* <div className=\"for-editor-wrapper-in\"> */}\n                            <div className=\"for-editor-block\">\n                                {lineNum()}\n                                <div className=\"for-editor-content\">\n                                    <pre>{value} </pre>\n                                    <textarea\n                                        ref={this.handleEditorRef}\n                                        value={value}\n                                        onChange={this.handleChange}\n                                        placeholder={this.props.placeholder}\n                                        spellCheck=\"false\"\n                                        autoCapitalize=\"off\"\n                                        autoCorrect=\"off\"\n                                    />\n                                </div>\n                            </div>\n                            {/* </div> */}\n                        </div>\n                    </div>\n                    <div className={previewClass}>\n                        <div\n                            className=\"for-preview for-markdown-preview\"\n                            dangerouslySetInnerHTML={{ __html: convertMarkdownToHtml(value, this.props.topValue, this.props.bottomValue) }}\n                        />\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default MdEditor\n","import React, { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport { Connect } from '../actions';\nimport Editor from '../editor';\nimport {Alert} from 'reactstrap'\n\nimport Beforeunload from 'react-beforeunload';\n\nclass Main extends Component {\n    constructor(props) {\n        super(props);\n        this.props.getText(value => this.setState({ value }));\n\n        this.props.onDisconnect(() => {\n            this.setState({disconnected:true});\n        });\n\n        // this.props.onDisconnect(() => {\n        //     this.setState({disconnected:true});\n        // });\n\n        this.id = this.props.config.articleId;\n        this.state = {\n            value: '',\n            autoSave: true,\n            previousValue: '',\n            disconnected:false\n        }\n    }\n\n    componentDidMount() {\n        this.props.getArticle(this.id)\n            .then(({ action: { payload: { data } } }) => {\n                this.setState({\n                    value: data.text,\n                    previousValue:data.text\n                });\n\n                this.props.socket.emit('join room', data);\n                this.interval = setInterval(() => {\n                    if (this.isEdited()) {\n                        this.setState({previousValue:this.state.value});\n                        this.handleSave()\n                    }\n                }, 60000);\n            })\n            .catch(e => {\n                this.props.navigate('HOME');\n            })\n    }\n\n    isEdited(){\n        return this.state.value !== this.state.previousValue\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.interval);\n    }\n\n    reconnect() {\n        this.props.getArticle(this.id)\n        .then(({ action: { payload: { data } } }) => {\n            this.setState({\n                value: data.text,\n                previousValue:data.text,\n                disconnected:false\n            });\n            this.props.socket.emit('join room', data);\n        })\n        .catch(e => {\n            this.props.navigate('HOME');\n        })\n    }\n\n    handleChange = value => {\n        if(this.state.disconnected) {\n            this.reconnect();\n        }else {\n            this.setState({\n                value,\n            });\n            this.props.socket.emit('set text', value);\n        }\n\n    }\n\n    handleSave() {\n        this.props.updateArticle({ id: this.id, text: this.state.value })\n            .then(() => toast.success(\"Artikkeli tallennettu\"))\n            .catch(() => toast.error(\"Virhe tallennettaessa artikkelia\"))\n    }\n\n    socketsOnline(){\n        const {rooms} = this.props.app;\n        const sockets = rooms[this.id] ? rooms[this.id].sockets : [];\n        return sockets.length > 1;\n    }\n\n    render() {\n        let { value } = this.state\n        \n        const editorStyle = {\n            boxShadow: '#999 0 0 12px',\n            borderRadius: '4px'\n        }\n        return (\n            <div style={{height:'100%'}}>\n                {this.isEdited() && <Beforeunload onBeforeunload={() => \"Haluatko varmasti poistua? Viimeisempiä muutoksia ei ole tallennettu.\"} />}\n                {this.socketsOnline() && <Alert color=\"warning\">\n                    Toinen käyttäjä on muokkaamassa tiedostoa!\n                </Alert>}\n            <div style={editorStyle}>\n                <Editor\n                    value={value}\n                    onChange={this.handleChange}\n                    onSave={() => this.handleSave()}\n                />\n            </div>\n            </div>\n        )\n    }\n}\n\nexport default Connect(Main)\n","import React, { Component } from 'react'\r\nimport { Breadcrumb, BreadcrumbItem } from 'reactstrap';\r\nimport { Connect } from '../actions';\r\nimport {formatTitle} from '../tools/articleTools';\r\nclass Nav extends Component {\r\n\r\n    render() {\r\n\r\n        const { year, week, articleId, screen } = this.props.config;\r\n        const article = screen === \"ARTICLE\" && this.props.app.articles.find(a => a.id === articleId);\r\n        const title = article ? `${article.position}. ${formatTitle(article.title, article.title_en)}` : `Viikkotiedote`;\r\n        return (\r\n            <Breadcrumb>\r\n                <BreadcrumbItem onClick={() => this.props.navigate('HOME')}><a href=\"javascript:void(0)\">Viikkis {week}/{year}</a></BreadcrumbItem>\r\n                {(screen === \"ARTICLE\" || screen === \"SUMMARY\") && <BreadcrumbItem active> {title}</BreadcrumbItem>}\r\n\r\n            </Breadcrumb>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Connect(Nav)\r\n","import React, { Component } from 'react';\r\nimport Modal from 'react-responsive-modal';\r\nimport { Button, Form, FormGroup, Input, Label } from 'reactstrap';\r\nimport Editor from '../editor';\r\nimport { Connect } from '../actions';\r\nimport { createMarkdownTOC, convertMarkdownToHtml } from '../tools/articleTools';\r\nimport { MD_CONFIG, MD_CONFIG_TOC, SUMMARY_BOTTOM, SUMMARY_TOP } from '../constants';\r\nclass Summary extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.year = this.props.config.year;\r\n        this.week = this.props.config.week;\r\n        this.state = {\r\n            value: '',\r\n            config: MD_CONFIG,\r\n            toc:MD_CONFIG_TOC,\r\n            showModal: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.getSummary({ year: this.year, week: this.week })\r\n    }\r\n\r\n    toggleModal() {\r\n        this.setState({ showModal: !this.state.showModal })\r\n    }\r\n\r\n    exportHtml(html){\r\n        let element = document.createElement(\"a\");\r\n        let file = new Blob([html], { type: 'text/plain' });\r\n        element.href = URL.createObjectURL(file);\r\n        element.download = `${this.year}-${this.week}-viikkis.html`;\r\n        element.click();\r\n    }\r\n\r\n    exportFile() {\r\n        let element = document.createElement(\"a\");\r\n        let text = (this.state.config + this.state.toc + this.props.app.summary).replace(/\\n/g, \"\\r\\n\");\r\n        let file = new Blob([text], { type: 'text/plain' });\r\n        element.href = URL.createObjectURL(file);\r\n        element.download = `${this.year}-${this.week}-viikkis.md`;\r\n        element.click();\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        const value = this.props.app.summary;\r\n        const tableOfContents = createMarkdownTOC(this.props.app.summary);\r\n        const topValue = SUMMARY_TOP(this.week, tableOfContents);\r\n        const bottomValue = SUMMARY_BOTTOM;\r\n        const editorStyle = {\r\n            boxShadow: '#999 0 0 12px',\r\n            borderRadius: '4px'\r\n        }\r\n\r\n        return (\r\n            <React.Fragment>\r\n\r\n                <Modal open={this.state.showModal} onClose={() => this.toggleModal()} center>\r\n                    <div style={{ minHeight: 300, width: 600 }}>\r\n                        <Form>\r\n                            <FormGroup>\r\n                                <Label for=\"config\">Määritä sihteerin asetukset</Label>\r\n                                <Input type=\"textarea\" style={{ height: 200 }} id=\"config\" value={this.state.config} onChange={e => this.setState({ config: e.target.value })} />\r\n                                <Button color=\"success\" block onClick={() => this.exportFile()}>Lataa .md -muodossa</Button>\r\n                                <Button color=\"primary\" block onClick={() => this.exportHtml(convertMarkdownToHtml(value, topValue, bottomValue))}>Lataa .html -muodossa</Button>\r\n                            </FormGroup>\r\n                        </Form>\r\n                    </div>\r\n                </Modal>\r\n\r\n                <Button color=\"success\" block onClick={() => this.toggleModal()}>Lataa viikkis</Button>\r\n\r\n                <div style={editorStyle}>\r\n                    <Editor\r\n                        topValue={topValue}\r\n                        bottomValue={bottomValue}\r\n                        value={value}\r\n                        onChange={() => { }}\r\n                        onSave={() => { }}\r\n                    />\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Connect(Summary)\r\n","import React, { Component } from 'react'\r\nimport { Connect } from '../actions';\r\nimport { Button, Form, FormGroup, Label, Input, Col } from 'reactstrap';\r\nimport { formatTitle } from '../tools/articleTools';\r\nimport { TITLES } from '../constants';\r\n\r\nclass CreateWeek extends Component {\r\n\r\n    state = {\r\n        titles: TITLES,\r\n    }\r\n    createWeek() {\r\n        if (this.state.titles.find(t => t.fi.trim() === \"\")) {\r\n            alert(\"Kaikki suomenkieliset kentät ovat pakollisia!\");\r\n            return;\r\n        }\r\n        const articles = this.state.titles.map((title, i) => ({\r\n            year: this.props.year,\r\n            week: this.props.week,\r\n            position: i + 1,\r\n            title: title.fi,\r\n            title_en: title.en,\r\n            text: `# ${formatTitle(title.fi, title.en)} \\n\\n`,\r\n            text_en: ``\r\n        }));\r\n        this.props.createWeek(articles)\r\n    }\r\n\r\n    deleteHeading(i) {\r\n        this.setState({\r\n            titles: this.state.titles.reduce((acc, obj, ind) => ind === i ? acc : [...acc, obj], [])\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { titles } = this.state;\r\n        return (\r\n            <div style={{ backgroundColor: 'white', padding: 20 }}>\r\n                <Form>\r\n                    {\r\n                        titles.map((title, i) => (\r\n                            <div style={styles.box}>\r\n                                <Button style={styles.button}color=\"danger\" onClick={() => this.deleteHeading(i)}>X</Button>\r\n                                <FormGroup key={i} row >\r\n                                    <div style={styles.index}><h2>{i+1}.</h2></div>\r\n                                    <Label for={`fi`} sm={2}>Otsikko (fi)</Label>\r\n                                    <Col sm={10}>\r\n                                        <Input type=\"text\" name={`fi`} required placeholder=\"Otsikko suomeksi (pakollinen)\" value={title.fi} onChange={(e) => this.setState({ titles: titles.map((t, ind) => i === ind ? ({ ...t, fi: e.target.value }) : t) })} />\r\n                                    </Col>\r\n                                    <Label for={`en`} sm={2}>Otsikko (en)</Label>\r\n                                    <Col sm={10}>\r\n                                        <Input type=\"text\" name={`en`} placeholder=\"Otsikko englanniksi (ei pakollinen)\" value={title.en} onChange={(e) => this.setState({ titles: titles.map((t, ind) => i === ind ? ({ ...t, en: e.target.value }) : t) })} />\r\n                                    </Col>\r\n                                </FormGroup>\r\n\r\n                            </div>\r\n                        ))\r\n                    }\r\n                    <Button color=\"info\" block onClick={() => this.setState({ titles: [...titles, { fi: '', en: '' }] })}>Lisää uusi otsikko</Button>\r\n                    <Button color=\"success\" size=\"lg\" block onClick={() => this.createWeek()}>Luo viikkis!</Button>\r\n                </Form>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default Connect(CreateWeek)\r\n\r\nconst styles = {\r\n    box:{\r\n        position:'relative',\r\n        margin:10,\r\n        backgroundColor:'rgba(0,0,0,0.07)',\r\n        borderRadius:3,\r\n        boxShadow: '#999 0 0 7px',\r\n        border:'1px solid darkgray',\r\n        padding:`10px 50px 10px 50px`\r\n    },\r\n    button:{\r\n        position:'absolute', top:0, right:0, zIndex:999\r\n    },\r\n    index:{\r\n        position:'absolute', top:2, left:2, zIndex:999\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Badge, Button, ListGroup, ListGroupItem } from 'reactstrap';\r\nimport { Connect } from '../actions';\r\nimport CreateWeek from './CreateWeek';\r\nimport { formatTitle, lastEdited } from '../tools/articleTools';\r\nclass WeekList extends Component {\r\n\r\n    socketsOnline(id) {\r\n        const { rooms } = this.props.app;\r\n        const sockets = rooms[id] ? rooms[id].sockets : [];\r\n        return sockets.length > 0;\r\n    }\r\n\r\n    deleteArticle(id) {\r\n        const bool = window.confirm('Haluatko varmasti poistaa artikkelin?');\r\n        if (bool) {\r\n            this.props.deleteArticle(id)\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        const articles = this.props.app.articles.sort((a, b) => a.position - b.position)\r\n\r\n        return articles.length === 0 ? (\r\n            <CreateWeek year={this.props.year} week={this.props.week} />\r\n        ) : (\r\n                <React.Fragment>\r\n                    <Button block color=\"success\" onClick={() => this.props.navigate('SUMMARY')}>Näytä kooste viikkotiedotteesta</Button>\r\n                    <ListGroup flush>\r\n                        {\r\n                            articles.map(article => (\r\n\r\n                                <ListGroupItem key={article.id} >\r\n                                    <a href=\"javascript:void(0)\" onClick={() => this.props.setConfigState({ articleId: article.id, screen: 'ARTICLE' })}>\r\n                                        {article.position}. {formatTitle(article.title, article.title_en)}\r\n                                    </a>\r\n                                    <br />\r\n\r\n                                    <Badge color=\"success\">{article.text.length} merkkiä</Badge> {' '}\r\n                                    <Badge color=\"warning\">{lastEdited(article.edited_at)}</Badge> {' '}\r\n                                    {this.socketsOnline(article.id) && <Badge color=\"info\">joku muokkaamassa</Badge>}\r\n                                    \r\n                                    <Button color=\"danger\" outline size=\"sm\" style={{ float: 'right' }} onClick={() => this.deleteArticle(article.id)}>X</Button>\r\n\r\n                                </ListGroupItem>\r\n                            ))\r\n                        }\r\n                    </ListGroup>\r\n                </React.Fragment>\r\n            )\r\n    }\r\n}\r\n\r\nexport default Connect(WeekList)","import moment from 'moment';\r\nimport React, { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport { Connect } from '../actions';\r\nimport Week from './WeekList';\r\nimport  {Button} from 'reactstrap'\r\nclass WeekContainer extends Component {\r\n\r\n    state = {\r\n        failed: true,\r\n        loaded: false\r\n    }\r\n    componentDidMount() {\r\n        this.init();\r\n        this.props.socket.emit('leave room');\r\n    }\r\n\r\n    async init() {\r\n        try {\r\n            await this.props.getWeekArticles({ year: this.props.config.year, week: this.props.config.week })\r\n            this.setState({ failed: false, loaded: true })\r\n        } catch (e) {\r\n            toast.error('Ei internet yhteyttä palvelimeen');\r\n            this.setState({ failed: true, loaded: true })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { year, week, now } = this.props.config;\r\n        const startOfWeek = moment(now).startOf('isoWeek');\r\n        const endOfWeek = moment(now).endOf('isoWeek');\r\n        const { loaded, failed } = this.state;\r\n        return (\r\n            <div style={styles.wrapper}>\r\n                <div style={styles.container}>\r\n                    <Button onClick={() => this.props.setPrevWeek()} style={styles.left} color=\"link\">\r\n                        <h1><i className=\"fa fa-angle-left\"></i></h1>\r\n                    </Button>\r\n                    <div style={styles.center}>\r\n                        <h1>Viikko {week}</h1>\r\n                        <h3>{startOfWeek.format('DD.MM.YYYY')} - {endOfWeek.format('DD.MM.YYYY')}</h3>\r\n                    </div>\r\n                    <Button onClick={() => this.props.setNextWeek()} style={styles.right} color=\"link\">\r\n                            <h1><i className=\"fa fa-angle-right\"></i></h1>\r\n                    </Button>\r\n                </div>\r\n                {loaded && !failed && <Week week={week} year={year} />}\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default Connect(WeekContainer)\r\n\r\nconst styles = {\r\n    wrapper: {\r\n        backgroundColor: 'white',\r\n        boxShadow: '#999 0 0 12px',\r\n        borderRadius: '4px',\r\n    },\r\n    container: {\r\n        flex: 1,\r\n        flexDirection: 'row',\r\n        display: 'flex'\r\n    },\r\n    left: {\r\n        flex: 0.1,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        cursor: 'pointer',\r\n        borderRadius:0\r\n    },\r\n    center: {\r\n        flex: 0.8,\r\n        flexDirection: 'column',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n    },\r\n    right: {\r\n        flex: 0.1,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        cursor: 'pointer'\r\n    }\r\n}\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nexport const LoadingComponent = () => {\r\n    return (\r\n        <div style={styles.loader}>\r\n            <div style={styles.container}>\r\n                <h1 style={styles.text}>Ladataan...</h1>\r\n                <Loader\r\n                    type=\"Puff\"\r\n                    color=\"#00BFFF\"\r\n                    height=\"100\"\r\n                    width=\"100\"\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst styles = {\r\n    loader: {\r\n        zIndex: 10000,\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        bottom: 0,\r\n        right: 0,\r\n        backgroundColor: 'transparent',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        color: 'white'\r\n    },\r\n    container: { backgroundColor: 'rgba(0,0,0,0.5)', padding: 40, display: 'flex', justifyContent: 'center', alignItems: 'center' },\r\n    text: { color: 'white' }\r\n}","import React, { Component } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport { Container } from 'reactstrap';\r\nimport { Connect } from '../actions';\r\nimport Header from './Header';\r\nimport Login from './Login';\r\nimport Main from './Article';\r\nimport Nav from './NavBar';\r\nimport Summary from './Summary';\r\nimport Year from './WeekContainer';\r\nimport { LoadingComponent } from '../components'\r\nimport {SCREENS} from '../constants'\r\n\r\n\r\nconst MainContainer = ({ navigation }) => {\r\n    return (\r\n        <div>\r\n            <Header />\r\n            <Nav/>\r\n            <Container style={{ marginBottom: 20 }}>\r\n                {\r\n                    navigation()\r\n                }\r\n            </Container>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst AuthContainer = () => {\r\n    return (\r\n        <div>\r\n            <Header />\r\n            <Login />\r\n        </div>\r\n    );\r\n}\r\n\r\nclass ScreenContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.props.socket.on('get rooms', (rooms) => this.props.setState({ rooms }));\r\n        this.props.socket.on('get sockets', (sockets) => this.props.setState({ sockets }));\r\n        this.getText = (cb) => this.props.socket.on('get text', cb);\r\n        this.onDisconnect = (cb) => this.props.socket.on('disconnect', cb);\r\n        // connect reconnect disconnect (methods)\r\n    }\r\n\r\n    componentDidMount() {\r\n        const email = localStorage.getItem('email');\r\n        const password = localStorage.getItem('password');\r\n        console.log({ email, password })\r\n        if (email && password) {\r\n            this.props.login({ email, password })\r\n                .catch(() => {\r\n                    localStorage.removeItem('email');\r\n                    localStorage.removeItem('password');\r\n                })\r\n        }\r\n    }\r\n\r\n    navigation() {\r\n        switch (this.props.config.screen) {\r\n            case SCREENS.SUMMARY:\r\n                return <Summary />\r\n            case SCREENS.ARTICLE:\r\n                return <Main getText={this.getText} onDisconnect={this.onDisconnect} />\r\n            default:\r\n                return <Year />\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <ToastContainer\r\n                    style={{ zIndex: 100000 }}\r\n                    position=\"bottom-right\"\r\n                    autoClose={5000}\r\n                    hideProgressBar={false}\r\n                    newestOnTop={false}\r\n                    closeOnClick\r\n                    rtl={false}\r\n                    pauseOnVisibilityChange\r\n                    draggable\r\n                    pauseOnHover={false}\r\n                />\r\n                {\r\n                    this.props.app.loading && <LoadingComponent />\r\n                }\r\n                {\r\n                    this.props.app.logged ? <MainContainer navigation={() => this.navigation()} /> : <AuthContainer />\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Connect(ScreenContainer)\r\n","import { types } from \"../actions/appActions\";\r\nimport { toast } from 'react-toastify';\r\nlet initialState = {\r\n    loading: false,\r\n    articles: [],\r\n    rooms: {},\r\n    summary: '',\r\n    logged: false,\r\n    user: {},\r\n    sockets:[],\r\n    text: ''\r\n};\r\n\r\nconst appReducer = (state = initialState, { payload, type }) => {\r\n\r\n    switch (type) {\r\n        case types.SET_STATE.NAME:\r\n            return { ...state, ...payload }\r\n\r\n        case types.GET_ARTICLES.PENDING:\r\n        case types.CREATE_WEEK.PENDING:\r\n        case types.GET_ARTICLE.PENDING:\r\n        case types.GET_SUMMARY.PENDING:\r\n        case types.DELETE_ARTICLE.PENDING:\r\n        case types.GET_WEEK_ARTICLES.PENDING:\r\n        case types.LOGIN.PENDING:\r\n            return { ...state, loading: true }\r\n\r\n        case types.GET_ARTICLES.FULFILLED:\r\n            return { ...state, loading: false, articles: payload.data }\r\n\r\n        case types.GET_ARTICLES.REJECTED:\r\n        case types.CREATE_WEEK.REJECTED:\r\n        case types.DELETE_ARTICLE.REJECTED:\r\n        case types.GET_ARTICLE.REJECTED:\r\n        case types.GET_SUMMARY.REJECTED:\r\n        case types.GET_WEEK_ARTICLES.REJECTED:\r\n            toast.error('Ei internet yhteyttä palvelimeen')\r\n            return { ...state, loading: false }\r\n\r\n        case types.LOGIN.REJECTED:\r\n            return { ...state, loading: false }\r\n\r\n        case types.CREATE_WEEK.FULFILLED:\r\n            return { ...state, articles: [...state.articles, ...payload], loading: false }\r\n\r\n        case types.GET_ARTICLE.FULFILLED:\r\n            return { ...state, articles: state.articles.map(a => a.id === payload.id ? payload : a), loading: false }\r\n\r\n        case types.DELETE_ARTICLE.FULFILLED:\r\n            return { ...state, articles: state.articles.reduce((acc, a) => a.id === payload.data ? acc : [...acc, a], []), loading: false }\r\n\r\n        case types.GET_SUMMARY.FULFILLED:\r\n            return {\r\n                ...state, summary: payload.data\r\n                    .sort((a, b) => a.position - b.position)\r\n                    .reduce((acc, a) => acc + '\\n \\n' + a.text, ``),\r\n                loading: false\r\n            }\r\n\r\n        case types.GET_WEEK_ARTICLES.FULFILLED:\r\n            return { ...state, articles: payload.data, loading: false }\r\n\r\n        case types.LOGIN.FULFILLED:\r\n            return { ...state, user: payload, logged: true, loading: false }\r\n\r\n\r\n        case types.LOGOUT.NAME:\r\n            return { ...state, user: initialState.user, logged: false }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default appReducer\r\n","import { types } from \"../actions/configActions\";\r\nimport moment from 'moment';\r\nlet initialState = {\r\n    loading: false,\r\n    year: parseInt(moment().format('YYYY')),\r\n    week: parseInt(moment().format('WW')),\r\n    now: moment().day(\"Wednesday\").year(moment().format('YYYY')).week(moment().format('WW')),\r\n    screen:null,\r\n    articleId:null\r\n};\r\n\r\nconst configReducer = (state = initialState, { payload, type }) => {\r\n\r\n    switch (type) {\r\n        case types.SET_CONFIG_STATE.NAME:\r\n            return { ...state, ...payload }\r\n        case types.NAVIGATE.NAME:\r\n            return { ...state, screen:payload }\r\n        case types.NAVIGATE_HOME.NAME:\r\n            return initialState\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default configReducer;","import { combineReducers } from 'redux';\r\nimport appReducer from './appReducer';\r\nimport io from 'socket.io-client';\r\nimport {SOCKET_ENDPOINT} from '../constants'\r\nimport configReducer from './configReducer';\r\nconst socketReducer = io(SOCKET_ENDPOINT);\r\n\r\nconst rootReducer = combineReducers({\r\n    app: appReducer,\r\n    config: configReducer,\r\n    socket: () => socketReducer\r\n})\r\n\r\nexport default rootReducer;\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport reducers from './reducers';\r\nimport promise from \"redux-promise-middleware\"\r\nimport { createLogger } from 'redux-logger';\r\n\r\nconst loggerMiddleWare = createLogger({ predicate:(getState, action) => true});\r\nconst middleWares = applyMiddleware(promise(), thunk, loggerMiddleWare);\r\n\r\nexport default createStore(reducers, middleWares);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import 'react-app-polyfill/ie11';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport ScreenContainer from './containers/ScreenContainer'\nimport {Provider} from 'react-redux';\nimport store from './store';\nimport * as serviceWorker from './serviceWorker';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './bootstrap.css';\nimport './index.css';\n\nReactDOM.render(<Provider store={store}><ScreenContainer /></Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}